<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
  <meta name="generator" content="Hugo 0.84.0">
  <link rel="shortcut icon" type="image/x-icon"
    href="https://cdn-icons-png.flaticon.com/512/1776/1776999.png">
  <title>정글튜브</title>

  <link rel="canonical" href="https://getbootstrap.com/docs/5.0/examples/album/">



  <!-- JS -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
    integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
    crossorigin="anonymous"></script>
  <!-- Bootstrap core CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
    crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
  <!-- 토스 폰트 -->
  <link href='//spoqa.github.io/spoqa-han-sans/css/SpoqaHanSansNeo.css' rel='stylesheet' type='text/css'>

  <style>
    * {
      font-family: 'Spoqa Han Sans Neo', 'sans-serif';
    }

    .bd-placeholder-img {
      font-size: 1.125rem;
      text-anchor: middle;
      -webkit-user-select: none;
      -moz-user-select: none;
      user-select: none;
    }

    @media (min-width: 768px) {
      .bd-placeholder-img-lg {
        font-size: 3.5rem;
      }
    }

    a {
      text-decoration: none;
    }

    .signup {
      color: blue;
    }

    .login {
      color: white;
    }

    .logout {

      color: red;
    }

    .modal-v1 {
      margin: 10px;
    }
  </style>
  <script>
    // 시작하면 실행하기
    $(document).ready(function () {
      $("#category-list").html("");
    });
    // 회원가입 클릭시
    function sighup() {
      console.log("회원가입신청!")

      let userId = $("#user-id").val()
      let userPwd = $("#user-pwd").val()
      let userNick = $("#user-nickname").val()
      console.log(userId, userPwd)
      $.ajax({
        type: "POST",
        url: "/api/sighin",
        data: { 'give_id': userId, 'give_pwd': userPwd, 'give_nick': userNick },
        success: function (response) { // 성공하면
          if (response["result"] == "success") {
            alert("저장 완료!");
            window.location.reload()
          }
        }
      })
    }

    // 로그인 클릭시
    function checkLogin() {
      console.log("로그인 신청!")

      let userId = $("#floatingInput").val()
      let userPwd = $("#floatingPassword").val()
      console.log(userId, userPwd)

      $.ajax({
        type: "POST",
        url: "/api/login",
        data: { 'give_id': userId, 'give_pwd': userPwd},
        success: function (response) { // 성공하면
          if (response["result"] == "success") {
            alert("저장 완료!");
            window.location.reload()
          }
        }
      })
    }
    // 업로드 클릭시
    function uploadVideo() {
      console.log("업로드 신청!")
      let category = $("#category").val()
      let url = $("#url").val()
      let comment = $("#comment").val()

      console.log(category, url, comment)

      $.ajax({
        type: "POST",
        url: "/api/upload",
        data: { 'give_category': category, 'give_url': url, 'give_comment': comment },
        success: function (response) { // 성공하면
          if (response["result"] == "success") {
            alert("저장 완료!");
            window.location.reload()
          }
        }
      })
    }

    // db에 저장된 동영상 보여주는 기능
    function showVideo() {

      $.ajax({
        type: "GET",
        url: "/video",
        data: {},
        success: function (response) {
          if (response["result"] == "success") {
            let memos = response['memos']
            console.log(memos)
            for (let i = 0; i < memos.length; i++) {
              let memeTitle = memos[i]['title']
              let memoText = memos[i]['text']
              makeMemo(i, memeTitle, memoText)
            }
          }
        }
      })
    }
    // 메모 생성 기능
    function makeMemo(num, title, text) {
      let newMemo = `<div class="card" id="memo${num}">

              <div class="card-body">
                  <h4 class="card-title">${title}</h4>
                  <h5 class="card-text">${text}</h5>
                  <button onclick="openChange(${num})" class="button-base change">수정</button>
                  <button onclick="deleteMemo('${title}')" class="button-base delete">삭제</button>
              </div>

              <div class="mod-card-body" id='change-box' style="display:none">
                  <div class="form-group">
                      <input class="form-control mod-title" value="${title}">
                  </div>
                  <div class="form-group">
                      <textarea class="form-control mod-text" rows="2" >${text}</textarea>
                  </div>
                  <button onclick="changeMemo(${num},'${title}')" class="button-base save">저장</button>
                  <button onclick="openChange(${num})" class="button-base delete">닫기</button>
                  
              </div>

          </div>`

      $("#card-list").append(newMemo)
    }
    // 내용 변경 기능
    function changeMemo(target, oriTitle) {
      let id = "memo" + target
      let memoTitle = $('#' + id + " input.mod-title").val()
      let memoText = $('#' + id + " textarea.mod-text").val()
      $.ajax({
        type: 'POST',
        url: '/api/change',
        data: { 'orititle_give': oriTitle, 'title_give': memoTitle, 'text_give': memoText },
        success: function (response) {
          if (response['result'] == 'success') {
            alert("변경 완료!")
            // 새로고침
            window.location.reload()
          }
        }
      });
    }
    // 메모 삭제 기능
    function deleteMemo(title) {
      $.ajax({
        type: 'POST',
        url: '/api/delete',
        data: { 'title_give': title },
        success: function (response) {
          if (response['result'] == 'success') {
            alert("삭제 완료!")
            // 새로고침
            window.location.reload()
          }
        }
      });
    }
  </script>

</head>

<body>

  <header>

    <div class="navbar navbar-dark bg-dark shadow-sm">
      <div class="container">
        <a href="#" class="navbar-brand d-flex align-items-center">
          <img src="https://cdn-icons-png.flaticon.com/512/1776/1776999.png" style="width: 40px;" />
          <strong style="margin-left: 10px;">정글튜브</strong>
        </a>
      </div>

      <div style="margin:auto">
        <a href="#" class=" align-items" data-bs-toggle="modal" data-bs-target="#upload" style="display:none">
          글쓰기
        </a>
        <a href="#" class=" align-items" data-bs-toggle="modal" data-bs-target="#sigh">
          회원가입
        </a>
        <a href="#" class=" align-items login" data-bs-toggle="modal" data-bs-target="#login">
          로그인
        </a>
        <a href="#" class=" align-items logout" data-bs-toggle="modal" data-bs-target="#sigh" style="display:none">
          로그아웃
        </a>
      </div>

    </div>
  </header>

  <main>
    <!-- 주차별 동영상 섹션-->


    <div class="album py-5 bg-light" id="category-list">
      <div class="container">
        <h1> Week 01 알고리즘</h1>
        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">

          <div class="col">
            <div class="card shadow-sm">
              <img
                src="http://www.urbanbrush.net/web/wp-content/uploads/edd/2020/02/urbanbrush-20200227023608426223.jpg"
                class="card-img-top" alt="...">
              <div class="card-body">
                <p class="card-text">한줄 코멘트.</p>
                <div class="d-flex justify-content-between align-items-center">
                  <a><i class="bi bi-fire"></i>3</a>
                  <button type="button" class="btn btn-link"><i class="bi bi-chat-heart"></i></button>
                </div>
              </div>
            </div>
          </div>


          <div class="col">
            <div class="card shadow-sm">
              <img
                src="http://www.urbanbrush.net/web/wp-content/uploads/edd/2020/02/urbanbrush-20200227023608426223.jpg"
                class="card-img-top" alt="...">
              <div class="card-body">
                <p class="card-text">한줄 코멘트.</p>
                <div class="d-flex justify-content-between align-items-center">
                  <a><i class="bi bi-fire"></i>3</a>
                  <button type="button" class="btn btn-link"><i class="bi bi-chat-heart"></i></button>
                </div>
              </div>
            </div>
          </div>

          <div class="col">
            <div class="card shadow-sm">
              <img
                src="http://www.urbanbrush.net/web/wp-content/uploads/edd/2020/02/urbanbrush-20200227023608426223.jpg"
                class="card-img-top" alt="...">
              <div class="card-body">
                <p class="card-text">한줄 코멘트.</p>
                <div class="d-flex justify-content-between align-items-center">
                  <a><i class="bi bi-fire"></i>3</a>
                  <button type="button" class="btn btn-link"><i class="bi bi-chat-heart"></i></button>
                </div>
              </div>
            </div>
          </div>

          <!-- 회원가입 Modal 섹션-->
          <div class="modal fade" id="sigh" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <img src="https://cdn-icons-png.flaticon.com/512/1776/1776999.png" style="width: 40px;" />
                  <h5 class="modal-title" id="exampleModalLabel">회원가입</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                  <div class="wrap">
                    <div class="input">
                      <p>ID : <input type="text" id="user-id" value=""></p>
                      <p>PW : <input type="password" id="user-pwd" value=""></p>
                      <p>별명 : <input type="text" id="user-nickname" value=""></p>
                    </div>

                  </div>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">닫기</button>
                  <button type="button" class="btn btn-primary" onclick="sighup()" data-bs-dismiss="modal">가입하기</button>
                </div>
              </div>
            </div>
          </div>


          <!-- 로그인 Modal -->
          <div class="modal fade" id="login" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <img src="https://cdn-icons-png.flaticon.com/512/1776/1776999.png" style="width: 40px;" />
                  <h5 class="modal-title" id="exampleModalLabel">로그인</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                  <div class="form-floating">
                    <input type="email" class="form-control" id="floatingInput" placeholder="name@example.com">
                    <label for="floatingInput">ID</label>
                  </div>
                  <div class="form-floating">
                    <input type="password" class="form-control" id="floatingPassword" placeholder="Password">
                    <label for="floatingPassword">Password</label>
                  </div>

                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">닫기</button>
                  <button type="button" class="btn btn-info" data-bs-toggle="modal" data-bs-target="#sigh">회원가입</button>
                  <button type="button" class="btn btn-primary" onclick="checkLogin()">로그인</button>
                </div>
              </div>
            </div>
          </div>

          <!-- 업로드 Modal -->
          <div class="modal fade" id="upload" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <img src="https://cdn-icons-png.flaticon.com/512/1776/1776999.png" style="width: 40px;" />
                  <h5 class="modal-title" id="exampleModalLabel">업로드</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                  <div class="wrap modal-v1">
                    <div class="input">
                      분류 :
                      <select name="category" id="category">
                        <option value="week3">week3</option>
                        <option value="week2">week2</option>
                        <option value="week1">week1</option>
                        <option value="week0">week0</option>
                      </select>

                      <p>URL : <input type="url" id="url" value=""></p>
                      <p>코멘트 :</p>
                      <textarea type="text" id="comment" value=""></textarea>
                    </div>

                  </div>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">닫기</button>
                  <button type="button" class="btn btn-primary" data-bs-dismiss="modal"
                    onclick="uploadVideo()">업로드</button>

                </div>
              </div>
            </div>
          </div>




  </main>

  <footer class="text-muted py-5">
    <div class="container">
      <p class="float-end mb-1">
        <a href="#">위로</a>
      </p>
      <p class="mb-1 align-center">정글에서 살아남기!</p>
    </div>
  </footer>


  <script src="../assets/dist/js/bootstrap.bundle.min.js"></script>


</body>

</html>